// Utility functions for generating downloadable content

export const generatePromptTemplate = (finalPrompt: string): string => {
  return `# Шаблон улучшенного промпта

## Ваш финальный промпт:
${finalPrompt}

## Структура фреймворка:
1. **Роль** - Определите профессиональную перспективу
2. **Цель** - Укажите конкретный желаемый результат  
3. **Шаги** - Опишите логический процесс
4. **Ограничения** - Задайте формат и стиль
5. **Стандарт качества** - Установите критерии оценки

## Советы для использования:
- Начинайте с простого промпта
- Добавляйте элементы поэтапно
- Тестируйте после каждого улучшения
- Сохраняйте успешные промпты для повторного использования

Создано в рамках Лаб #4: Вызов итерации`;
};

export const generateIterationGuide = (): string => {
  return `# Руководство по 4-раундовой итерации промптов

## Процесс улучшения:

### Раунд 1: Базовая версия
- Начните с простого запроса
- Наблюдайте за общим результатом
- Выявите недостатки

### Раунд 2: + Роль и Цель
- Добавьте профессиональную роль
- Определите конкретную цель
- Сравните с предыдущим результатом

### Раунд 3: + Шаги и Ограничения  
- Структурируйте логический процесс
- Задайте формат и ограничения
- Получите организованный результат

### Раунд 4: + Стандарт качества
- Установите критерии оценки
- Добавьте самопроверку
- Достигните профессионального уровня

## Применение:
Используйте этот процесс для любых сложных задач с ИИ.

Создано в рамках Лаб #4: Вызов итерации`;
};

export const generateAnalysisChecklist = (): string => {
  return `# Чеклист анализа клиентского фидбека

## Перед началом:
- [ ] Собраны все отзывы клиентов
- [ ] Определена цель анализа
- [ ] Установлены критерии качества

## Структура анализа:
- [ ] Категоризация по темам
- [ ] Подсчёт позитивных/негативных упоминаний
- [ ] Выявление приоритетных проблем
- [ ] Формулировка рекомендаций

## Проверка качества:
- [ ] Каждая тема подкреплена примерами
- [ ] Рекомендации имеют бизнес-обоснование
- [ ] Результат готов для руководства
- [ ] Выводы поддерживают принятие решений

## Финальная проверка:
- [ ] Анализ соответствует поставленной цели
- [ ] Формат подходит для аудитории
- [ ] Длина соответствует ограничениям
- [ ] Тон профессиональный и объективный

Создано в рамках Лаб #4: Вызов итерации`;
};

export const downloadTextFile = (content: string, filename: string): void => {
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const link = document.createElement('a');
  link.href = url;
  link.download = filename;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
  URL.revokeObjectURL(url);
};
